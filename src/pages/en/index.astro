---
import Layout from 'layouts/Layout.astro';
import Hero from 'components/Hero.astro';
import ProductCard from 'components/ProductCard.astro';
import SolutionCard from 'components/SolutionCard.astro';
import Button from 'components/Button.astro';

import productsData from 'json/ProductsEn.json';
import categoriesData from 'json/CategoriesEn.json';
import solutionsData from 'json/SolutionsEn.json';

const featuredProducts = productsData.products.filter(p => p.featured);
const categories = categoriesData.categories;
const solutions = solutionsData.solutions;
---

<Layout
  title="Intelligent Audio/Video Conferencing Solutions"
  description="VLINKA specializes in advanced AI-driven audio/video conferencing equipment and solutions, including beamforming speakerphones, array microphones, ceiling microphones and professional meeting devices."
  navDarkMode={true}
>
  <!-- Hero Section -->
  <Hero
    subtitle="Smart Meeting Experts"
    title="AI-Powered Audio/Video Conferencing Solutions"
    description="VLINKA delivers advanced smart meeting equipment for enterprises and institutions, integrating cutting-edge AI noise reduction, beamforming, and dereverberation technologies for superior meeting experiences."
    ctaText="Browse Products"
    ctaLink="/en/products"
    secondaryCtaText="View Solutions"
    secondaryCtaLink="/en/solutions"
  />

  <!-- Product Categories -->
  <section class="section section-categories" data-bg-section="light">
    <div class="container">
      <div class="section-header">
        <span class="eyebrow">Product Categories</span>
        <h2>Professional Meeting Equipment</h2>
        <p class="section-description">Complete product line for all your conference room audio/video needs</p>
      </div>

      <div class="categories-grid">
        {categories.map((category) => (
          <a href={`/en/products#${category.id}`} class="category-card">
            <div class="category-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polygon points="10 8 16 12 10 16 10 8"></polygon>
              </svg>
            </div>
            <h3>{category.name}</h3>
            <p>{category.description}</p>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  <section class="section section-products" data-bg-section="light-tint">
    <div class="container">
      <div class="section-header">
        <span class="eyebrow">Featured Products</span>
        <h2>Popular Products</h2>
        <p class="section-description">Explore our most popular smart meeting devices</p>
      </div>

      <div class="products-grid">
        {featuredProducts.slice(0, 6).map((product) => {
          const category = categories.find(c => c.id === product.category);
          return (
            <ProductCard
              id={product.id}
              name={product.name}
              fullName={product.fullName}
              category={product.category}
              categoryName={category?.name || ''}
              shortDescription={product.shortDescription}
              image={product.image}
              link={`/en/products/${product.slug}`}
            />
          );
        })}
      </div>

      <div class="section-cta">
        <Button text="View All Products" link="/en/products" variant="outline" size="xl" />
      </div>
    </div>
  </section>

  <!-- Solutions Preview -->
  <section class="section section-solutions" data-bg-section="dark" data-theme-section="dark">
    <div class="container">
      <div class="section-header">
        <span class="eyebrow">Solutions</span>
        <h2>Professional Solutions</h2>
        <p class="section-description">Customized conferencing solutions for different scenarios</p>
      </div>

      <div class="solutions-grid">
        {solutions.map((solution) => (
          <SolutionCard
            id={solution.id}
            title={solution.title}
            description={solution.description}
            link={`/en/solutions/${solution.slug}`}
          />
        ))}
      </div>

      <div class="section-cta">
        <Button text="Learn More About Solutions" link="/en/solutions" variant="outline" size="xl" />
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="section section-cta-main" data-bg-section="primary" data-theme-section="dark">
    <div class="container">
      <div class="cta-content">
        <h2>Ready to Upgrade Your Meeting Experience?</h2>
        <p>Contact our professional team for customized smart conferencing solutions</p>
        <div class="cta-buttons">
          <Button text="Contact Us" link="/en/contact" variant="light" size="xl" />
          <Button text="View Products" link="/en/products" variant="outline" size="xl" />
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  .section-header {
    text-align: center;
    margin-bottom: 3em;
  }

  .section-header .eyebrow {
    display: block;
    margin-bottom: 0.5em;
  }

  .section-header h2 {
    margin-bottom: 0.5em;
  }

  .section-description {
    font-size: 1.1em;
    color: var(--color-text);
    max-width: 600px;
    margin: 0 auto;
  }

  [data-theme-section="dark"] .section-description {
    color: var(--color-text-light);
  }

  .categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.5em;
  }

  .category-card {
    padding: 1.5em;
    background-color: var(--color-white);
    border-radius: calc(var(--border-radius) * 1.5);
    border: 1px solid var(--color-border);
    text-decoration: none;
    transition: all var(--animation-smooth);
  }

  .category-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(var(--color-dark-rgb), 0.1);
    border-color: var(--color-primary);
  }

  .category-icon {
    width: 3em;
    height: 3em;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    border-radius: calc(var(--border-radius) * 0.75);
    margin-bottom: 1em;
  }

  .category-icon svg {
    width: 1.5em;
    height: 1.5em;
    stroke: var(--color-white);
  }

  .category-card h3 {
    font-family: 'Manrope', sans-serif;
    font-size: 1.1em;
    font-weight: 600;
    color: var(--color-dark);
    margin-bottom: 0.5em;
  }

  .category-card p {
    font-size: 0.85em;
    color: var(--color-text);
    line-height: 1.5;
  }

  .products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5em;
  }

  .solutions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 1.5em;
  }

  @media screen and (max-width: 540px) {
    .solutions-grid {
      grid-template-columns: 1fr;
    }
  }

  .section-cta {
    text-align: center;
    margin-top: 2.5em;
  }

  .section-cta-main {
    text-align: center;
  }

  .cta-content h2 {
    color: var(--color-white);
    margin-bottom: 0.5em;
  }

  .cta-content p {
    font-size: 1.1em;
    color: rgba(var(--color-white-rgb), 0.85);
    margin-bottom: 1.5em;
  }

  .cta-buttons {
    display: flex;
    justify-content: center;
    gap: 1em;
    flex-wrap: wrap;
  }

  .cta-buttons :global(.btn.light .btn-content span) {
    color: var(--color-primary);
  }

  .cta-buttons :global(.btn.outline .border-box) {
    border-color: rgba(var(--color-white-rgb), 0.3);
  }
</style>
