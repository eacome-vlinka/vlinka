---
import Layout from 'layouts/Layout.astro';
import ProductCard from 'components/ProductCard.astro';
import CategoryNav from 'components/CategoryNav.astro';

import productsData from 'json/ProductsEn.json';
import categoriesData from 'json/CategoriesEn.json';

const products = productsData.products;
const categories = categoriesData.categories;
---

<Layout
  title="Products"
  description="Browse VLINKA's full range of smart conferencing equipment, including beamforming speakerphones, AI array microphones, ceiling microphones, smart conference systems and video bars."
  navDarkMode={true}
>
  <section class="page-header" data-theme-section="dark">
    <div class="container">
      <h1>Products</h1>
      <p class="page-description">Explore our complete range of smart meeting devices for professional audio/video experiences</p>
    </div>
  </section>

  <section class="section section-products" data-bg-section="light-tint">
    <div class="container">
      <CategoryNav categories={categories} allLabel="All Products" />

      <div class="products-grid">
        {products.map((product) => {
          const category = categories.find(c => c.id === product.category);
          return (
            <ProductCard
              id={product.id}
              name={product.name}
              fullName={product.fullName}
              category={product.category}
              categoryName={category?.name || ''}
              shortDescription={product.shortDescription}
              image={product.image}
              link={`/en/products/${product.slug}`}
            />
          );
        })}
      </div>
    </div>
  </section>
</Layout>

<style>
  .page-header {
    padding-top: calc(var(--nav-bar-height) + var(--section-padding));
    padding-bottom: var(--section-padding);
    background: linear-gradient(135deg, var(--color-dark) 0%, var(--color-dark-tint) 100%);
    position: relative;
  }

  .page-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 20% 80%, rgba(var(--color-primary-rgb), 0.15) 0%, transparent 40%);
    pointer-events: none;
  }

  .page-header .container {
    position: relative;
    z-index: 2;
  }

  .page-header h1 {
    color: var(--color-white);
    margin-bottom: 0.25em;
  }

  .page-description {
    font-size: 1.1em;
    color: var(--color-text-light);
    max-width: 600px;
  }

  .products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1.5em;
    margin-top: 1em;
  }
</style>
